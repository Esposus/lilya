---
hide:
  - navigation
---

# Lilya

<p align="center">
  <a href="https://lilya.dev"><img src="https://res.cloudinary.com/dymmond/image/upload/v1707501404/lilya/logo_quiotd.png" alt='Lilya'></a>
</p>

<p align="center">
    <em>üöÄ Yet another ASGI toolkit that delivers. üöÄ</em>
</p>

<p align="center">
<a href="https://github.com/dymmond/lilya/actions/workflows/test-suite.yml/badge.svg?event=push&branch=main" target="_blank">
    <img src="https://github.com/dymmond/lilya/actions/workflows/test-suite.yml/badge.svg?event=push&branch=main" alt="Test Suite">
</a>

<a href="https://pypi.org/project/lilya" target="_blank">
    <img src="https://img.shields.io/pypi/v/lilya?color=%2334D058&label=pypi%20package" alt="Package version">
</a>

<a href="https://pypi.org/project/lilya" target="_blank">
    <img src="https://img.shields.io/pypi/pyversions/lilya.svg?color=%2334D058" alt="Supported Python versions">
</a>
</p>

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [https://lilya.dev](https://lilya.dev) üìö

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥**: [https://github.com/dymmond/lilya](https://github.com/dymmond/lilya)

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–≥–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤—ã–ø—É—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π**.

---

## –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–í –º–∏—Ä–µ ASGI –≤—Å–µ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω–æ –∏–º–µ—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, –∏ –Ω–∏ –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≤—Å–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏.
–°–æ–∑–¥–∞–Ω–∏–µ Lilya –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ—è–ª–∏ —É –∏—Å—Ç–æ–∫–æ–≤ –≤–µ–± —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Python. –û–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π, —Ç–æ—á–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π –∏ —É–¥–æ–±–Ω—ã–π –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (—Ñ—Ä–µ–π–º–≤–æ—Ä–∫) –Ω–∞ Python, –Ω–∞—Ü–µ–ª–µ–Ω–Ω—ã–π –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É.

–ß–∞—Å—Ç–æ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ –Ω–∞ Python, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–ª–∏—à–Ω–∏–º
–¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π ASGI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥–æ—Ç–æ–≤—ã—Ö –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É, –±—ã—Å—Ç—Ä—ã—Ö, —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∏ –º–æ–¥—É–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

–ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å Lilya –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ—ë –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ.

–ü–æ—á—Ç–∏ –±–µ–∑ –∂–µ—Å—Ç–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, 100% –Ω–∞–ø–∏—Å–∞–Ω—ã–π –Ω–∞ Python, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

## –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–∏–Ω–µ—Å–µ—Ç Lilya?

Lilya –ø—Ä–∏–Ω–æ—Å–∏—Ç —Å —Å–æ–±–æ–π —Ü–µ–ª—ã–π —Ä—è–¥ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤.

* –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤/—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è ASGI.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP/WebSocket.
* –ó–∞–¥–∞—á–∏ (–≤ ASGI –∏–∑–≤–µ—Å—Ç–Ω—ã –∫–∞–∫ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (background tasks)).
* –°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ - lifespan events (on_startup/on_shutdown –∏ lifespan).
* –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (permissions).
* Middlewares (Compressor, CSRF, Session, CORS...).
* –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** [–∫–ª–∏–µ–Ω—Ç](./lilya-cli.md).
* **–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞–º–∏** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ª—é–±—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
* –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–µ—Å—Ç–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
* –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `trio` –∏ `asyncio`.
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ **Include** –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–æ–π–ª–µ—Ä–ø–ª–µ–π—Ç–∞.
* –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö —Ä–∞–∑–¥—É—Ç—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ –í–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫.

```shell
$ pip install lilya
```

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ **shell** –∏–ª–∏ **directives**
(—Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏).

```shell
$ pip install lilya[cli,ipython] # –¥–ª—è ipython shell
$ pip install lilya[cli,ptpython] # –¥–ª—è ptpython shell
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ [–∫–ª–∏–µ–Ω—Ç–µ](./directives/discovery.md) –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–õ–∏–±–æ –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ä–∞–∑—É –≤—Å—ë, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Lilya,
–∫–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ middleware.

```shell
$ pip install lilya[all]
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ASGI —Å–µ—Ä–≤–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä [uvicorn](https://www.uvicorn.org/) –∏–ª–∏
[hypercorn](https://pgjones.gitlab.io/hypercorn/).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–î–ª—è –≤–∞—Å –º–Ω–æ–≥–æ–µ –±—É–¥–µ—Ç —É–∂–µ –∑–Ω–∞–∫–æ–º—ã–º, –µ—Å–ª–∏ –≤—ã –∏–º–µ–µ—Ç–µ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ –∏ –≤–µ–±-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ Python.

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, Lilya –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–∫](./settings.md),
—á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ª—é–±–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

```python
{!> ../docs_src/quickstart/app.py !}
```

–ü—Ä–æ—Å—Ç–æ, –Ω–µ –ø—Ä–∞–≤–¥–∞ –ª–∏? –•–æ—Ç—è –∑–¥–µ—Å—å –µ—Å—Ç—å –æ —á–µ–º —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å. –í—ã –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ –ø—É—Ç—å `/{user}`
–Ω–µ —Ç–æ–ª—å–∫–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è `request`, –Ω–æ –∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–æ–ª—É—á–∞–µ—Ç `user: str`?

Lilya —Ç–≤–æ—Ä–∏—Ç –º–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–∞–≥–∏–∏ –¥–ª—è –≤–∞—Å. –ï—Å–ª–∏ –≤—ã –Ω–µ –æ–±—ä—è–≤–ª—è–µ—Ç–µ `request` —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, 
—Ç–∞–∫ –∫–∞–∫ –æ–Ω –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å.

–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–ª–∏ path –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –≤ —Ö—ç–Ω–¥–ª–µ—Ä–µ, —Ç–æ Lilya –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –ø–æ–∏—Å–∫ –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç –∏—Ö
—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ path, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º–∏ –≤ `Path`, –∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –∏—Ö –∑–∞ –≤–∞—Å.

–ö—Ä—É—Ç–æ, –Ω–µ —Ç–∞–∫ –ª–∏? –ò —ç—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ!

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

Lilya –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏–ª–∏ –∫–∞–∫ –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–∞–Ω–≥–ª. toolkit) –∏ —ç—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ç–∞–∫–æ–π –∫–∞–∫ middlewares, permissions, Path, Router... –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ ASGI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å [middleware](./middleware.md) –∏–ª–∏ [permission](./permissions.md) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö —Å 
–ª—é–±—ã–º –¥—Ä—É–≥–∏–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º ASGI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º, —Ç–æ –µ—Å—Ç—å –≤—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Lilya, middlewares, permissions –∏ 
–ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ [Esmerald][esmerald] –∏–ª–∏ [FastAPI][fastapi], –∏–ª–∏ —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º.

**Lilya –Ω–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∫–∞–∫ [Esmerald][esmerald] –∏–ª–∏ [FastAPI][fastapi], –∞ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π**
**–Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤/—Ñ—Ä–µ–π–º–≤–æ—Ä–∫, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, 
—Ç–∞–∫ –∏ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.**

**–ü—Ä–∏–º–µ—Ä**

```python
{!> ../docs_src/quickstart/example.py !}
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞.

```shell
$ uvicorn myapp:app
INFO:     Started server process [140552]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

[esmerald]: https://lilya.dev/esmerald
[fastapi]: https://fastapi.tiangolo.com
